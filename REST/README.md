[CouchDB](http://couchdb.apache.org/) Ã¨ un DB non relazionale di ultima generazione che offre API REST.

Per cominciare a lavoroarci
[Couch DB Tutorial](https://www.tutorialspoint.com/couchdb/index.htm)

N.B "rev", this indicates the revision id. Every time you revise (update or modify) a document a _rev value will be generated by CouchDB. If you want to update or delete a document, CouchDB expects you to include the _rev field of the revision you wish to change. When CouchDB accepts the change, it will generate a new revision number. This mechanism ensures concurrency control.


https://github.com/apache/couchdb-docker

```
docker run -d --name my-couchdb -p 5984:5984 -e COUCHDB_USER=admin -e COUCHDB_PASSWORD=password %%IMAGE%%:tag
```

```
docker run -d --name my-couchdb-new -p 5984:5984 -e COUCHDB_USER=admin -e COUCHDB_PASSWORD=admin couchdb

curl http://admin:admin@127.0.0.1:5984/_up
```

[Futon](http://localhost:5984/_utils/) is the built-in, web based, administration interface of CouchDB. It provides a simple graphical interface using which you can interact with CouchDB.

[POSTMAN](https://www.getpostman.com/) o [CURL](https://curl.se/) oppure [REST CLIENT](https://marketplace.visualstudio.com/items?itemName=humao.rest-client) ti consentono di sperimentare con le API REST in modo effcicace.

[Open Wheather Map](https://openweathermap.org/api)

Prendi i dati su Roma
http://api.openweathermap.org/data/2.5/weather?q=Roma,IT&appid=xxxxxxxxx

```json
{"coord":{"lon":12.48,"lat":41.89},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"base":"stations","main":{"temp":291.72,"pressure":1012,"humidity":63,"temp_min":289.15,"temp_max":293.15},"visibility":9000,"wind":{"speed":3.1,"deg":210},"clouds":{"all":20},"dt":1508689200,"sys":{"type":1,"id":5848,"message":0.0035,"country":"IT","sunrise":1508650281,"sunset":1508689010},"id":3169070,"name":"Roma","cod":20
```

## Google API

https://console.cloud.google.com/

![](2021-03-17-09-11-47.png)

![](2021-03-17-09-15-26.png)

[Google Places API](https://developers.google.com/places/web-service/search?authuser=1)

https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=41.89,12.48&radius=500&types=food&key=xxxxxxxxxxx

## 2.express_get_post.js

Puoi usare https://github.com/typicode/json-server

npm install -g json-server

Create a db.json file with some data

```
{
  "posts": [
    { "id": 1, "title": "json-server", "author": "typicode" }
  ],
  "comments": [
    { "id": 1, "body": "some comment", "postId": 1 }
  ],
  "profile": { "name": "typicode" }
}
```

Start JSON Server

```
json-server --watch db.json
```

http://localhost:3000/posts/1

## NGINX + NODEJS

https://www.altexsoft.com/blog/engineering/the-good-and-the-bad-of-node-js-web-app-development/

![](2021-03-17-10-20-27.png)

https://www.nginx.com/blog/5-performance-tips-for-node-js-applications/

https://docs.nginx.com/nginx/deployment-guides/load-balance-third-party/node-js/

https://ashwin9798.medium.com/nginx-with-docker-and-node-js-a-beginners-guide-434fe1216b6b


## Accesso dall'esterno

https://ngrok.com/

```
docker run -p 8080:80 --name some-nginx -v "$PWD"/html_content:/usr/share/nginx/html:ro -d nginx
```


![](2021-03-17-08-38-45.png)

![](2021-03-17-08-32-49.png)

![](2021-03-17-08-35-28.png)

![](2021-03-17-08-39-56.png)

![](2021-03-17-08-40-15.png)

![](2021-03-17-08-43-46.png)
